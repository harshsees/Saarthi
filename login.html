<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Saarthi — Login</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

<link rel="stylesheet" href="style.css">

<style>
:root{
  --saarthi-red-700:#b71c1c;
  --saarthi-red-500:#e53935;
  --saarthi-rose-100:#fff0f0;
  --saarthi-gray-900:#121212;
  --saarthi-gray-700:#374151;
  --saarthi-gray-400:#9ca3af;
  --white:#ffffff;
  --radius:12px;
  --shadow: 0 8px 24px rgba(0,0,0,0.08);
  --font: 'Inter', Arial, sans-serif;
}

*{box-sizing:border-box}

body{
  margin:0;
  font-family:var(--font);
  background: linear-gradient(180deg, #fff 0%, var(--saarthi-rose-100) 100%);
}

.container{
  max-width:1100px;
  margin:28px auto;
  padding:24px;
}

.card{
  background:#fff;
  border-radius:16px;
  box-shadow:var(--shadow);
  padding:28px;
}

.header{
  display:flex;
  gap:16px;
  margin-bottom:18px;
}

.logo1{
  width:56px;
  height:56px;
  border-radius:12px;
  background:linear-gradient(135deg,var(--saarthi-red-500),var(--saarthi-red-700));
  display:flex;
  align-items:center;
  justify-content:center;
  color:#fff;
  font-weight:700;
  font-size:20px;
}

.btn{
  padding:10px 16px;
  border-radius:10px;
  background:var(--saarthi-red-500);
  color:#fff;
  border:none;
  font-weight:600;
  cursor:pointer;
}

.input{
  width:100%;
  padding:12px;
  border-radius:10px;
  border:1px solid #eee;
}

.small{
  font-size:13px;
  color:var(--saarthi-gray-400);
}

.small-ghost{
  background:#fff;
  border:1px dashed #f6dada;
  padding:10px 16px;
  border-radius:10px;
  cursor:pointer;
}


.main-flex{
  display:flex;
  gap:30px;
  align-items:center;
}

.left{
  flex:1;
}

.right{
  width:260px;
}

.urgent-card{
  background:linear-gradient(135deg,var(--saarthi-red-500),var(--saarthi-red-700));
  color:#fff;
  border-radius:16px;
  padding:22px;
  display:flex;
  flex-direction:column;
  justify-content:space-between;
  height:100%;
}

.urgent-title{
  font-size:18px;
  font-weight:700;
}

.urgent-desc{
  margin-top:8px;
  font-size:14px;
  opacity:0.95;
}

.urgent-btn{
  align-self:flex-end;
  margin-top:20px;
  background:#fff;
  color:var(--saarthi-red-700);
  padding:8px 16px;
  border:none;
  border-radius:10px;
  font-weight:600;
  cursor:pointer;
}

.register{
  margin-top:14px;
  font-size:13px;
  color:var(--saarthi-gray-700);
}

.register a{
  color:var(--saarthi-red-500);
  font-weight:600;
  text-decoration:none;
}
</style>
</head>

<body>

<header class="navbar">
  <div class="nav-container">

 <div class="logo">
  <div class="logo-mark">
    <div class="cross-vertical"></div>
    <div class="cross-horizontal"></div>
  </div>
  <span class="logo-text">Saarthi</span>
</div>




    <nav class="nav-links">
      <a href="index.html">Home</a>
      <a href="about.html">About</a>
    </nav>

  </div>
</header>


<div class="container">
  <div class="card" style="max-width:900px;margin:40px auto;">

    <div class="main-flex">

      <!-- LEFT SECTION -->
      <div class="left">

        <div class="header">
          <div class="logo1">S</div>
          <div>
            <strong>Saarthi</strong><br>
            <span class="small">Hyperlocal Blood Donation Connector</span>
          </div>
        </div>

        <h2>Welcome back</h2>
        <p class="small">Sign in to continue and help save lives.</p>

        <label class="small">Mobile number or email</label>
        <input id="loginInput" class="input" placeholder="Enter phone or email">
        
        <div id="recaptcha-container" style="margin-top:10px;"></div>

        <div style="margin-top:12px;display:flex;gap:10px;">
          <button id="sendOtpBtn" class="btn">Send OTP</button>
          <button class="small-ghost">Sign In with Google</button>
        </div>

        <!-- OTP SECTION -->
        <div id="otpSection" style="display:none;margin-top:14px;">
          <label class="small">Enter OTP</label>
          <input id="otpInput" class="input" placeholder="Enter OTP">
          <button id="verifyOtpBtn" class="btn" style="margin-top:10px;">Verify OTP</button>
        </div>

        <!-- MESSAGE -->
        <p id="message" class="small" style="margin-top:10px;"></p>

        <!-- REGISTER -->
        <div class="register">
          Don’t have an account? <a href="#">Register</a>
        </div>

      </div>

      <!-- RIGHT SECTION -->
      <div class="right">
        <div class="urgent-card">
          <div>
            <div class="urgent-title">Urgent Help</div>
            <div class="urgent-desc">
              Post an emergency request and find nearby donors instantly.
            </div>
          </div>
          <button class="urgent-btn" onclick="goToPostRequest()">Post Request</button>

        </div>
      </div>

    </div>
  </div>
</div>

<script>
const sendOtpBtn = document.getElementById("sendOtpBtn");
const verifyOtpBtn = document.getElementById("verifyOtpBtn");
const loginInput = document.getElementById("loginInput");
const otpSection = document.getElementById("otpSection");
const otpInput = document.getElementById("otpInput");

sendOtpBtn.addEventListener("click", async () => {

  const email = loginInput.value.trim();

  if (!email.includes("@")) {
    alert("Enter valid email address");
    return;
  }

  const response = await fetch("http://localhost:5000/send-otp", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ email })
  });

  const data = await response.json();

  if (data.success) {
    alert("OTP sent to your email!");
    otpSection.style.display = "block";
  } else {
    alert("Failed to send OTP");
  }
});

verifyOtpBtn.addEventListener("click", async () => {

  const email = loginInput.value.trim();
  const otp = otpInput.value.trim();

  const response = await fetch("http://localhost:5000/verify-otp", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ email, otp })
  });

  const data = await response.json();

  if (data.success) {
    localStorage.setItem("isLoggedIn", "true");
    window.location.href = "dashboard.html";
  } else {
    alert(data.message);
  }
});
</script>


</body>
</html>
